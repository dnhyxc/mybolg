---
title: Linux
date: 2021-10-24 21:59:38
tags: Linux
toc: true
declare: true
categories:
  - 操作系统
---

### Linux 简介

#### Linux 系统内核与 Linux 发行套件的区别

1、Linux 系统内核指的是由 Linus Torvalds 负责维护，提供硬件抽象层、硬盘及文件系统控制及多任务功能的系统核心程序。

2、Linux 发行套件系统是我们常说的 Linux 操作系统，也即是由 Linux 内核与各种常用软件的集合产品。

3、**总结**：真正的 Linux 指的是系统内核，而我们常说的 Linux 指的是“发行版完整的包含一些基础软件的操作系统”。

#### Linux 对比 Windows

1、稳定且有效率。

2、免费（或少许费用）。

3、漏洞少且快速修补。

<!-- more -->

4、多任务多用户。

5、更加安全的用户与文件权限策略。

6、适合小内核程序的嵌入系统。

7、相对不耗资源。

#### Linux 系统种类

1、红帽企业版 Linux：RHEL 是全世界内使用最广泛的 Linux 系统。它具有极强的性能与稳定性，是众多生成环境中使用的（收费的）系统。

2、CentOS：通过把 RHEL 系统重新编译并发布给用户免费使用的 Linux 系统，具有广泛的使用人群。

3、Ubuntu：是一款派生自 Debian 的操作系统，对新款硬件具有极强的兼容能力。 Ubuntu 与 Fedora 都是极其出色的 Linux 桌面系统，而且 Ubuntu 也可用于服务器领域。

4、Debian：稳定性、安全性强，提供了免费的基础支持，在国外拥有很高的认可度和使用率。

5、Deepin：中国发行，对优秀的开源成品进行集成和配置。

6、Fedora：由红帽公司发布的桌面版系统套件，用户可以免费体验到最新的技术或工具，这些技术或工具在成熟后会被加入到 RHEL 系统中，因此 Fedora 也成为 RHEL 系统的试验版本。

#### 常见目录说明

1、**/bin**：存放二进制可执行文件(ls,cat,mkdir 等)，常用命令一般都在这里。

2、**/etc**：存放系统管理和配置文件。

3、**/home**：存放所有用户文件的根目录，是用户主目录的基点，比如用户 user 的主目录就是/home/user，可以用~user 表示。

4、**/usr**：用于存放系统应用程序。

5、**/opt**：额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把 tomcat 等都安装到这里。

6、**/proc**：虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息。

7、**/root**：超级用户（系统管理员）的主目录，即 root 用户的家目录。

8、**/sbin**：存放二进制可执行文件，只有 root 才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如 ifconfig 等。

9、**/dev**：主要用于存放外接设备，例如：盘、其它的光盘等。在其中的外接设备是不能直接被使用的需要挂载（类型 windows 下的分配盘符）。

10、**/mnt**：系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统。

11、**/boot**：存放用于系统引导时使用的各种文件。

12、**/lib**：存放着和系统运行相关的库文件。

13、**/tmp**：用于存放各种临时文件，是公用的临时文件存储点。

14、**/var**：用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等。

15、**/lost+found**：这个目录平时是空的，系统非正常关机而留下“无家可归”的文件就在这里。

### 用户与权限

#### 用户

1、Linux 是一个多用户的操作系统。在 Linux 中，理论上来说，我们可以创建无数个用户，但是这些用户是被划分到不同的群组里面的，有一个用户，名叫 root ，是一个很特殊的用户，它是超级用户，拥有最高权限。

2、自己创建的用户是有限权限的用户，这样大大提高了 Linux 系统的安全性，有效防止误操作或是病毒攻击，但是我们执行的某些命令需要更高权限时可以使用 **sudo** 命令。

##### sudo

1、使用该命令可使自己创建的用户以 root 身份运行命令。

```js
sudo shutdown   // 关机
```

##### useradd 与 passwd

1、useradd：用于添加新用户。

2、passwd：用于修改用户密码。

```js
sudo useradd dnhyxc // 添加一个lion用户，添加完之后在 /home 路径下可以查看
sudo passwd dnhyxc  // 修改lion用户的密码
```

> 说明：这两个命令需要 root 用户权限才能执行成功。

##### userdel

1、userdel：用于删除用户，需要 root 用户权限。

```js
userdel dnhyxc	// 只会删除用户名，不会从/home中删除对应文件夹
userdel dnhyxc -r	// 会同时删除/home下的对应文件夹
```

##### su

1、用于切换用户，需要 root 用户权限。

```js
sudo su   // 切换为root用户（exit 命令或 CTRL + D 快捷键都可以使普通用户切换为 root 用户）
su dnhyxc   // 切换为普通用户
su -	// 切换为root用户
```

#### 群组管理

1、Linux 中每个用户都属于一个特定的群组，如果你不设置用户的群组，默认会创建一个和它的用户名一样的群组，并且把用户划归到这个群组。

##### groupadd

1、groupadd：用于创建群组，用法和 useradd 类似。

```js
groupadd friends  // 创建friends群组
```

##### groupdel

1、groupdel：用于删除一个已存在的群组。

```js
groupdel friends 	// 删除foo群组
```

##### groups

1、groups：用于查看用户所在群组。

```js
groups dnhyxc   // 查看 lion 用户所在的群组
```

##### usermod

1、usermod：用于修改用户的账户。

2、常用参数：

- `-l`：对用户重命名。需要注意的是 /home 中的用户家目录的名字不会改变，需要手动修改。

- `-g`：修改用户所在的群组，例如 `usermod -g friends dnhyxc` 修改 dnhyxc 用户的群组为 friends 。

- `-G`：一次性让用户添加多个群组，例如 `usermod -G friends,foo,bar dnhyxc` 。

- `-a -G`：会让你离开原先的群组，如果你不想这样做的话，就得再添加 -a 参数，意味着 append 追加的意思。

##### chgrp

1、用于修改文件的群组。

```js
chgrp bar file.txt	// file.txt文件的群组修改为bar
```

##### chown

1、用于改变文件的所有者，需要 root 身份才能运行。

```js
chown dnhyxc file.txt	  // 把其它用户创建的file.txt转让给dnhyxc用户
chown dnhyxc:bar file.txt	  // 把file.txt的用户改为dnhyxc，群组改为bar
```

2、常用参数：

- `-R`：递归设置子目录和子文件， `chown -R dnhyxc:dnhyxc /home/frank` 把 frank 文件夹的用户和群组都改为 dnhyxc 。

#### 文件权限管理

##### chmod

1、chmod：用于修改访问权限。

```js
chmod 740 file.txt
```

2、常用参数：

- `-R`：可以递归地修改文件访问权限，例如 chmod -R 777 /home/dnhyxc。

3、修改权限的确简单，但是理解其深层次的意义才是更加重要的。下面我们来系统的学习 Linux 的文件权限。

### 常用命令

#### ls

1、用户列出当前目录下的所有文件。

2、ls 列出的结果颜色说明：

- 蓝色的名称表示文件夹。

- 黑色的表示文件。

- 绿色的表示其拥有所有权限。

#### pwd

1、列出当前工作目录。

#### cd

1、cd ~ 可直接回到当前用户的家目录。

#### mkdir

1、语法：**mkdir 路径**（路径可以是文件夹名称，也可以是包含名称的一个完整了路径）。

2、**mkdir -p 路径**：当一次性创建多层不存在的目录时，添加 -p 就可实现，不添加就会报错。

#### touch

1、用于创建文件。

2、touch 文件路径（路径可以是直接的文件名，也可以是路径）。

- touch test.txt。

- touch /home/dnhyxc/linux.txt。

3、touch linux1.txt linux2.txt linux3.txt：同时创建多个文件。

#### cp

1、cp 用于复制文件。

2、语法：cp 被复制的文件路径 文件被复制到的路径。

3、**注意**：使用 cp 复制文件夹时，需要添加 **-r**（表示递归），否则文件夹将被忽略（不复制）。

#### mv

1、用于移动文档到新的位置（类似于剪切）。

2、语法：mv 移动前的位置 移动到的位置。

3、移动过程中可以改名，但最好不要改名。

#### rm

1、用于删除文件。

2、可选选项：

- -f：表示强制删除。

- r：表示递归删除。

2、如果在删除的时候不想频繁的输入 y 进行确认，可以输入 -f 进行强制删除。
